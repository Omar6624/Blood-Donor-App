@using Microsoft.AspNetCore.Identity
@model IEnumerable<Blood_Donor_App_v4.Models.DonorOtherInfo>
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@{
	ViewData["Title"] = "Profile Page";
	var UserModel = Model.ElementAt(0);

	var activeStatus = Html.DisplayFor(ModelItem => UserModel.IsActive);
}


<div class="max-w-screen-lg mx-auto my-32">
	
	<form asp-controller="Profile" asp-action="SaveInfo" class="space-y-8 divide-y divide-gray-200" x-data="{
name: '@Html.DisplayFor(ModelItem=>UserModel.Name)',
address: '@Html.DisplayFor(ModelItem=>UserModel.Address)',
phone: '@Html.DisplayFor(ModelItem=>UserModel.PhoneNumber)',
active: @UserModel.IsActive.ToString().ToLower()
}"
	>
		<div class="space-y-8 divide-y divide-gray-200">
			<div>
				<div>
					<h3 class="text-lg leading-6 font-medium text-gray-900">Profile</h3>
					<p class="mt-1 text-sm text-gray-500">This information will be displayed publicly so be careful what you share.</p>
				</div>

				<div class="mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
					<div class="sm:col-span-4">
						<label for="name" class="block text-sm font-medium text-gray-700"> Name </label>
						<div class="mt-1 flex rounded-md shadow-sm">
							<input :value="name" type="text" name="name" id="name" autocomplete="name" class=" block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
						</div>
					</div>

					<div class="sm:col-span-6">
						<label for="address" class="block text-sm font-medium text-gray-700"> Address </label>
						<div class="mt-1 flex rounded-md shadow-sm">
							<input :value="address" type="text" name="address" id="address" autocomplete="address" class=" block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
						</div>
						<p class="mt-2 text-sm text-gray-500">Write a few sentences about yourself.</p>
					</div>

					<div class="sm:col-span-4">
						<label for="phone" class="block text-sm font-medium text-gray-700"> Phone </label>
						<div class="mt-1 flex rounded-md shadow-sm">
							<input hidden :value="phone" type="text" name="phone" id="phone" autocomplete="phone" class=" block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
						</div>
					</div>
					<input :value="active" type="hidden" name="active" id="active" autocomplete="active" class=" block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">

				</div>
			</div>

			<div class="pt-8">
				<div>
					<h3 class="text-lg leading-6 font-medium text-gray-900">Personal Information</h3>
					<p class="mt-1 text-sm text-gray-500">Use a permanent address where you can receive mail.</p>
				</div>
				<div class="mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
					<div class="sm:col-span-3" >
						<label for="first-name" class="block text-sm font-medium text-gray-700"> Active </label>
						<button x-on:click="active = !active;"
								:class="active ? 'bg-indigo-600 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500' : 'bg-gray-200 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500' "
								type="button" role="switch" aria-checked="false">
							<span class="sr-only">Use setting</span>
							<span aria-hidden="true"
								  :class="active ? 'translate-x-5 pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200' : 'translate-x-0 pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200' "></span>
						</button>
					</div>
				</div>
			</div>
		</div>

		<div class="pt-5">
			<div class="flex justify-end">
				<a asp-controller="Home" asp-action="Index"  type="button" class="bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Cancel</a>
				<button type="submit" class="ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Save</button>
			</div>
		</div>
	</form>
</div>

